(()=>{"use strict";var t,e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},n=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}return t.prototype.render=function(t){},t.prototype.setState=function(t){this.state=e(e({},this.state),t(this.state)),this.render(this.props)},t}(),r=function(t,e){var n;return void 0===e&&(e=document),null!==(n=e.querySelector(t))&&void 0!==n?n:void 0},i=function(t,e){return void 0===e&&(e=document),e?Array.from(e.querySelectorAll(t)):[]},o=function(t){return t.startsWith("f")},s=function(t){return"f"+t.charAt(0).toUpperCase()+t.slice(1)},l=function(t,e,n){return t.map((function(t){return function(t,e,n){return t&&t.addEventListener(e,n),function(){return t&&t.removeEventListener(e,n)}}(t,e,n)}))},u=function(t){return t?t.textContent:""},a=function(t){return r(".documentableBrief",t)},c=function(t){return r(".documentableName",t)},f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},p=function(){function t(t,e,n,r){void 0===r&&(r=!1),this.value=t,this.elementsRefs=n,this.init=r,this.splitByComma=function(t){return t.split(",")},this.getDatasetWithKeywordData=function(t){return Object.entries(t).filter((function(t){var e=t[0];return o(e)}))},this.filters=this.init?this.withNewFilters():e}return Object.defineProperty(t,"defaultFilters",{get:function(){return scala3DocData.filterDefaults},enumerable:!1,configurable:!0}),t.prototype.onFilterToggle=function(e,n){return new t(this.value,this.withToggledFilter(e,n),this.elementsRefs)},t.prototype.onGroupSelectionChange=function(e,n){return new t(this.value,this.withNewSelectionOfGroup(e,n),this.elementsRefs)},t.prototype.onInputValueChange=function(e){return new t(e,this.generateFiltersOnTyping(e),this.elementsRefs)},t.prototype.generateFiltersOnTyping=function(t){var e=this,n=this.elementsRefs.filter((function(e){var n=u(c(e)),r=u(a(e));return(null==n?void 0:n.includes(t))||(null==r?void 0:r.includes(t))})).map((function(t){return e.getDatasetWithKeywordData(t.dataset)})).reduce((function(t,n){return n.forEach((function(n){var r=n[0],i=n[1],o=r;e.splitByComma(i).forEach((function(e){var n;t[o]=f(f({},t[o]),((n={})[e]=f(f({},t[o][e]),{visible:!0}),n))}))})),t}),this.allFiltersAreHidden());return this.attachDefaultFilters(n)},t.prototype.allFiltersAreHidden=function(){return Object.entries(this.filters).reduce((function(t,e){var n=e[0],r=e[1];return t[n]=Object.keys(r).reduce((function(t,e){return t[e]=f(f({},r[e]),{visible:!1}),t}),{}),t}),{})},t.prototype.withNewSelectionOfGroup=function(t,e){var n,r=this;return f(f({},this.filters),((n={})[t]=Object.keys(this.filters[t]).reduce((function(n,i){return n[i]=f(f({},r.filters[t][i]),r.filters[t][i].visible&&{selected:e}),n}),{}),n))},t.prototype.withNewFilters=function(){var t=this,e=this.elementsRefs.reduce((function(e,n){return t.getDatasetWithKeywordData(n.dataset).forEach((function(n){var r=n[0],i=n[1];return t.splitByComma(i).forEach((function(t){var n,i,o,s=r;e[s]=e[s]?f(f({},e[s]),((n={})[t]=null!==(o=e[s][t])&&void 0!==o?o:new h,n)):((i={})[t]=new h,i)}))})),e}),{});return this.attachDefaultFilters(e)},t.prototype.attachDefaultFilters=function(e){var n=this;return Object.entries(t.defaultFilters).reduce((function(t,e){var r,i,o=e[0],l=e[1],u=s(o);return n.elementsRefs.some((function(t){return!!t.dataset[u]}))?f(f({},t),((r={})[u]=f(f({},t[u]),((i={})[l]=new h,i)),r)):t}),e)},t.prototype.withToggledFilter=function(t,e){var n,r;return f(f({},this.filters),((n={})[t]=f(f({},this.filters[t]),((r={})[e]=f(f({},this.filters[t][e]),{selected:!this.filters[t][e].selected}),r)),n))},t}(),h=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.selected=t,this.visible=e},d=(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),g=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,l=o.length;s<l;s++,i++)r[i]=o[s];return r},y=function(t){function e(e){var n=t.call(this,e)||this;return n.refs={tabs:i(".section-tab[data-togglable]",r(".tabbedcontent")),sections:i("div[data-togglable]",r(".tabbedcontent"))},n.state={list:new v(n.refs.tabs,n.refs.sections)},n.render(e),n}return d(e,t),e.prototype.toggleElementDatasetVisibility=function(t,e){e.dataset.visibility=null==t?void 0:t.toLocaleString()},e.prototype.toggleDisplayStyles=function(t,e,n){e&&(e.style.display=t?n:"none")},e.prototype.render=function(t){var e=this,n=t.filter;this.state.list.sectionsRefs.map((function(t){var r=e.state.list.getTabRefFromSectionRef(t),i=!!e.state.list.getSectionListRefs(t).filter((function(t){var r=!!e.state.list.getSectionListElementsRefs(t).map((function(t){return e.state.list.toListElement(t)})).filter((function(t){var r=e.state.list.isElementVisible(t,n);return e.toggleDisplayStyles(r,t.ref,"table"),e.toggleElementDatasetVisibility(r,t.ref),r})).length;return e.toggleDisplayStyles(r,t,"block"),r})).length;e.toggleDisplayStyles(i,r,"inline-block")}))},e}(n),v=function(){function t(t,e){this.tabsRef=t,this.sectionRefs=e,this.getTogglable=function(t){return t.dataset.togglable}}return Object.defineProperty(t.prototype,"tabsRefs",{get:function(){var t=this;return this.tabsRef.filter((function(e){return t.filterTab(t.getTogglable(e))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sectionsRefs",{get:function(){var t=this;return this.sectionRefs.filter((function(e){return t.filterTab(t.getTogglable(e))}))},enumerable:!1,configurable:!0}),t.prototype.filterTab=function(t){return"Linear supertypes"!==t&&"Known subtypes"!==t&&"Type hierarchy"!==t},t.prototype.getTabRefFromSectionRef=function(t){var e=this;return this.tabsRefs.find((function(n){return e.getTogglable(n)===e.getTogglable(t)}))},t.prototype.getSectionListRefs=function(t){return i(".documentableList",t)},t.prototype.getSectionListElementsRefs=function(t){return i(".documentableElement",t)},t.prototype.toListElement=function(t){return{ref:t,name:u(c(t)),description:u(a(t))}},t.prototype.isElementVisible=function(t,e){return i=Object.entries(t.ref.dataset),u=(l=Object.entries(p.defaultFilters).filter((function(t){var n=t[0];return!!e.filters[s(n)]}))).reduce((function(t,e){var n=e[0],r=e[1],o=s(n);return i.some((function(t){return t[0]===o}))?t:g(t,[[o,r]])}),[]),a=i.filter((function(t){var e=t[0];return o(e)})).map((function(t){var e=t[0],n=t[1],r=l.find((function(t){return t[0]===e}));return r?[e,n+","+r[1]]:[e,n]})),!!g(u,a).every((function(t){var n=t[0],r=t[1],i=e.filters[n];return r.split(",").some((function(t){return i&&i[t].selected}))}))&&((null===(n=t.name)||void 0===n?void 0:n.includes(e.value))||(null===(r=t.description)||void 0===r?void 0:r.includes(e.value)));var n,r,i,l,u,a},t}(),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(e){var n=t.call(this,e)||this;return n.onFilterClick=function(t){var e=t.currentTarget.dataset,r=e.key,i=e.value;n.props.onFilterToggle(r,i)},n.onSelectAllClick=function(t){var e=t.currentTarget;n.props.onGroupSelectChange(e.dataset.key,!0)},n.onDeselectAllClick=function(t){var e=t.currentTarget;n.props.onGroupSelectChange(e.dataset.key,!1)},n.filterToggleRef=r(".filterToggleButton"),n.filterLowerContainerRef=r(".filterLowerContainer"),n.filterToggleRef.addEventListener("click",(function(t){return n.props.onFilterVisibilityChange(t)})),n.render(n.props),n}return b(e,t),e.prototype.attachFiltersClicks=function(){var t=i("button.filterButtonItem",this.filterLowerContainerRef);l(t,"click",this.onFilterClick)},e.prototype.attachSelectingButtonsClicks=function(){var t=i("button.selectAll",this.filterLowerContainerRef),e=i("button.deselectAll",this.filterLowerContainerRef);l(t,"click",this.onSelectAllClick),l(e,"click",this.onDeselectAllClick)},e.prototype.isActive=function(t){return t?"active":""},e.prototype.isVisible=function(t){return t?"visible":""},e.prototype.getSortedValues=function(t,e){var n=""+t.charAt(1).toLowerCase()+t.slice(2),r=p.defaultFilters[n];return Object.entries(e).sort((function(t,e){var n=t[0],i=e[0];return n===r?-1:i===r?1:n.localeCompare(i)}))},e.prototype.getFilterGroup=function(t,e){var n=this;return'\n      <div class="filterGroup" data-test-id="filterGroup">\n        <div class="groupTitle">\n          <span data-test-id="filterGroupTitle">'+t.substring(1)+'</span>\n          <div class="groupButtonsContainer" data-test-id="filterGroupBatchToggle">\n            <button class="selectAll" data-key="'+t+'">Select All</button>\n            <button class="deselectAll" data-key="'+t+'">Deselect All</button>\n          </div>\n        </div>\n        <div class="filterList" data-test-id="filterGroupList">\n          '+this.getSortedValues(t,e).map((function(e){var r=e[0],i=e[1];return'<button class="filterButtonItem '+n.isActive(i.selected)+" "+n.isVisible(i.visible)+'" data-key="'+t+'" data-selected="'+i.selected+'" data-value="'+r+'" data-test-id="filterGroupButton">'+r+"</button>"})).join(" ")+"\n        </div>\n      </div>\n    "},e.prototype.render=function(t){var e,n,r=this,i=t.filter;e=this.filterLowerContainerRef,n=Object.entries(i.filters).filter((function(t){t[0];var e=t[1];return Object.values(e).some((function(t){return t.visible}))})).map((function(t){var e=t[0],n=t[1];return r.getFilterGroup(e,n)})),e&&(e.innerHTML=function(t){return Array.isArray(t)?t.join(""):t}(n)),this.attachFiltersClicks(),this.attachSelectingButtonsClicks()},e}(n),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t){function e(e){var n=t.call(this,e)||this;return n.onInputChange=function(t){var e=t.currentTarget;n.props.onInputChange(e.value)},r(".filterableInput").addEventListener("input",(function(t){return n.onInputChange(t)})),n}return C(e,t),e}(n),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e){var n=t.call(this,e)||this;return n.onInputChange=function(t){n.setState((function(e){return{filter:e.filter.onInputValueChange(t)}}))},n.onGroupSelectChange=function(t,e){n.setState((function(n){return{filter:n.filter.onGroupSelectionChange(t,e)}}))},n.onFilterVisibilityChange=function(){n.setState((function(t){return{isVisible:!t.isVisible}}))},n.onFilterToggle=function(t,e){n.setState((function(n){return{filter:n.filter.onFilterToggle(t,e)}}))},n.refs={elements:i(".documentableElement"),filterBar:r(".documentableFilter")},n.state={filter:new p("",{},n.refs.elements,!0),isVisible:!1},n.input=new w({onInputChange:n.onInputChange}),n.list=new y({filter:n.state.filter}),n.filterGroup=new m({filter:n.state.filter,onFilterToggle:n.onFilterToggle,onGroupSelectChange:n.onGroupSelectChange,onFilterVisibilityChange:n.onFilterVisibilityChange}),n.render(),n}return O(e,t),e.tryAttaching=function(){r(".documentableFilter")&&new e},e.prototype.render=function(){this.refs.filterBar&&(this.state.isVisible?this.refs.filterBar.classList.add("active"):this.refs.filterBar.classList.remove("active")),this.list.render({filter:this.state.filter}),this.filterGroup.render({filter:this.state.filter,onFilterToggle:this.onFilterToggle,onGroupSelectChange:this.onGroupSelectChange,onFilterVisibilityChange:this.onFilterVisibilityChange})},e}(n);window.addEventListener("DOMContentLoaded",(function(){F.tryAttaching()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2FsYTNkb2MtZnJvbnRlbmQvLi9zcmMvZmlsdGVyQmFyL2NvbW1vbi9Db21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vc2NhbGEzZG9jLWZyb250ZW5kLy4vc3JjL2ZpbHRlckJhci9jb21tb24vdXRpbC50cyIsIndlYnBhY2s6Ly9zY2FsYTNkb2MtZnJvbnRlbmQvLi9zcmMvZmlsdGVyQmFyL2NvbXBvbmVudHMvRmlsdGVyLnRzIiwid2VicGFjazovL3NjYWxhM2RvYy1mcm9udGVuZC8uL3NyYy9maWx0ZXJCYXIvY29tcG9uZW50cy9Eb2N1bWVudGFibGVMaXN0LnRzIiwid2VicGFjazovL3NjYWxhM2RvYy1mcm9udGVuZC8uL3NyYy9maWx0ZXJCYXIvY29tcG9uZW50cy9GaWx0ZXJHcm91cC50cyIsIndlYnBhY2s6Ly9zY2FsYTNkb2MtZnJvbnRlbmQvLi9zcmMvZmlsdGVyQmFyL2NvbXBvbmVudHMvSW5wdXQudHMiLCJ3ZWJwYWNrOi8vc2NhbGEzZG9jLWZyb250ZW5kLy4vc3JjL2ZpbHRlckJhci9jb21wb25lbnRzL0ZpbHRlckJhci50cyIsIndlYnBhY2s6Ly9zY2FsYTNkb2MtZnJvbnRlbmQvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsicHJvcHMiLCJzdGF0ZSIsInJlbmRlciIsInNldFN0YXRlIiwibmV4dFN0YXRlIiwidGhpcyIsImZpbmRSZWYiLCJzZWFyY2hCeSIsImVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidW5kZWZpbmVkIiwiZmluZFJlZnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXNGaWx0ZXJEYXRhIiwia2V5Iiwic3RhcnRzV2l0aCIsImdldEZpbHRlcktleSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJhdHRhY2hMaXN0ZW5lcnMiLCJlbGVtZW50c1JlZnMiLCJ0eXBlIiwiY2FsbGJhY2siLCJtYXAiLCJlbFJlZiIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ3aXRoRXZlbnQiLCJnZXRFbGVtZW50VGV4dENvbnRlbnQiLCJ0ZXh0Q29udGVudCIsImdldEVsZW1lbnREZXNjcmlwdGlvbiIsImdldEVsZW1lbnROYW1lUmVmIiwidmFsdWUiLCJmaWx0ZXJzIiwiaW5pdCIsInNwbGl0QnlDb21tYSIsInN0ciIsInNwbGl0IiwiZ2V0RGF0YXNldFdpdGhLZXl3b3JkRGF0YSIsImRhdGFzZXQiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmlsdGVyIiwid2l0aE5ld0ZpbHRlcnMiLCJzY2FsYTNEb2NEYXRhIiwiZmlsdGVyRGVmYXVsdHMiLCJvbkZpbHRlclRvZ2dsZSIsIkZpbHRlciIsIndpdGhUb2dnbGVkRmlsdGVyIiwib25Hcm91cFNlbGVjdGlvbkNoYW5nZSIsImlzQWN0aXZlIiwid2l0aE5ld1NlbGVjdGlvbk9mR3JvdXAiLCJvbklucHV0VmFsdWVDaGFuZ2UiLCJnZW5lcmF0ZUZpbHRlcnNPblR5cGluZyIsIm5ld0ZpbHRlcnMiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJpbmNsdWRlcyIsInJlZHVjZSIsImZpbHRlcnNPYmplY3QiLCJkYXRhc2V0cyIsImZvckVhY2giLCJmaWx0ZXJLZXkiLCJ2YWwiLCJ2aXNpYmxlIiwiYWxsRmlsdGVyc0FyZUhpZGRlbiIsImF0dGFjaERlZmF1bHRGaWx0ZXJzIiwiZmlsdGVyR3JvdXAiLCJrZXlzIiwiZ3JvdXAiLCJvYmoiLCJzZWxlY3RlZCIsImVsZW1lbnRSZWYiLCJGaWx0ZXJJdGVtIiwiZGVmYXVsdEZpbHRlcnMiLCJhY2MiLCJkZWZhdWx0RmlsdGVyIiwic29tZSIsInJlZiIsInJlZnMiLCJ0YWJzIiwic2VjdGlvbnMiLCJsaXN0IiwiTGlzdCIsInRvZ2dsZUVsZW1lbnREYXRhc2V0VmlzaWJpbGl0eSIsImlzVmlzaWJsZSIsInZpc2liaWxpdHkiLCJ0b0xvY2FsZVN0cmluZyIsInRvZ2dsZURpc3BsYXlTdHlsZXMiLCJjb25kaXRpb24iLCJvblZpc2libGVTdHlsZSIsInN0eWxlIiwiZGlzcGxheSIsInNlY3Rpb25zUmVmcyIsInNlY3Rpb25SZWYiLCJ0YWJSZWYiLCJnZXRUYWJSZWZGcm9tU2VjdGlvblJlZiIsImlzVGFiVmlzaWJsZSIsImdldFNlY3Rpb25MaXN0UmVmcyIsImxpc3RSZWYiLCJpc0xpc3RWaXNpYmxlIiwiZ2V0U2VjdGlvbkxpc3RFbGVtZW50c1JlZnMiLCJ0b0xpc3RFbGVtZW50IiwiZWxlbWVudERhdGEiLCJpc0VsZW1lbnRWaXNpYmxlIiwibGVuZ3RoIiwiQ29tcG9uZW50IiwidGFic1JlZiIsInNlY3Rpb25SZWZzIiwiZ2V0VG9nZ2xhYmxlIiwidG9nZ2xhYmxlIiwiZmlsdGVyVGFiIiwidGFic1JlZnMiLCJmaW5kIiwiZGVmYXVsdEZpbHRlcnNGb3JNZW1iZXJzV2l0aG91dERhdGFBdHRyaWJ1dGUiLCJkYXRhc2V0V2l0aEFwcGVuZGVkRGVmYXVsdEZpbHRlcnMiLCJrIiwidiIsImV2ZXJ5Iiwib25GaWx0ZXJDbGljayIsIm9uU2VsZWN0QWxsQ2xpY2siLCJjdXJyZW50VGFyZ2V0Iiwib25Hcm91cFNlbGVjdENoYW5nZSIsIm9uRGVzZWxlY3RBbGxDbGljayIsImZpbHRlclRvZ2dsZVJlZiIsImZpbHRlckxvd2VyQ29udGFpbmVyUmVmIiwiZSIsIm9uRmlsdGVyVmlzaWJpbGl0eUNoYW5nZSIsImF0dGFjaEZpbHRlcnNDbGlja3MiLCJhdHRhY2hTZWxlY3RpbmdCdXR0b25zQ2xpY2tzIiwic2VsZWN0QWxsUmVmcyIsImRlc2VsZWN0QWxsUmVmcyIsImdldFNvcnRlZFZhbHVlcyIsInZhbHVlcyIsImRlZmF1bHRGaWx0ZXJLZXkiLCJ0b0xvd2VyQ2FzZSIsImRlZmF1bHRHcm91cEZpbHRlciIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJnZXRGaWx0ZXJHcm91cCIsInN1YnN0cmluZyIsImRhdGEiLCJqb2luIiwiaHRtbCIsImlubmVySFRNTCIsImlzQXJyYXkiLCJodG1sVG9TdHJpbmciLCJvbklucHV0Q2hhbmdlIiwicHJldlN0YXRlIiwiZWxlbWVudHMiLCJmaWx0ZXJCYXIiLCJpbnB1dCIsIklucHV0IiwiRG9jdW1lbnRhYmxlTGlzdCIsIkZpbHRlckdyb3VwIiwidHJ5QXR0YWNoaW5nIiwiRmlsdGVyQmFyIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwid2luZG93Il0sIm1hcHBpbmdzIjoid09BQUEsYUFHRSxXQUFzQkEsUUFBQSxJQUFBQSxNQUFRLElBQVIsS0FBQUEsUUFGWixLQUFBQyxNQUFXLEdBY3ZCLE9BVkUsWUFBQUMsT0FBQSxTQUFPRixLQUVQLFlBQUFHLFNBQUEsU0FBU0MsR0FDUEMsS0FBS0osTUFBUSxFQUFILEtBQ0xJLEtBQUtKLE9BQ0xHLEVBQVVDLEtBQUtKLFFBR3BCSSxLQUFLSCxPQUFPRyxLQUFLTCxRQUVyQixFQWZBLEdDQWFNLEVBQVUsU0FBQ0MsRUFBa0JDLEcsa0JBQUEsSUFBQUEsTUFBQSxVQUNRLFEsRUFBL0NBLEVBQVFDLGNBQWNGLFVBQXlCLGFBQUlHLEdBRXpDQyxFQUFXLFNBQ3RCSixFQUNBQyxHQUNrQixZQURsQixJQUFBQSxNQUFBLFVBQ21CQSxFQUFVSSxNQUFNQyxLQUFLTCxFQUFRTSxpQkFBaUJQLElBQWEsSUFrQ25FUSxFQUFlLFNBQUNDLEdBQXlDLE9BQUFBLEVBQUlDLFdBQVcsTUFDeEVDLEVBQWUsU0FBQ0YsR0FDM0IsVUFBSUEsRUFBSUcsT0FBTyxHQUFHQyxjQUFnQkosRUFBSUssTUFBTSxJQUVqQ0MsRUFBa0IsU0FDN0JDLEVBQ0FDLEVBQ0FDLEdBQ0csT0FBQUYsRUFBYUcsS0FBSSxTQUFBQyxHQUFTLE9BeENOLFNBQ3ZCbkIsRUFDQW9CLEVBQ0FILEdBR0EsT0FEQWpCLEdBQVdBLEVBQVFxQixpQkFBaUJELEVBQVVILEdBQ3ZDLFdBQU0sT0FBQWpCLEdBQVdBLEVBQVFzQixvQkFBb0JGLEVBQVVILElBa0NqQ00sQ0FBVUosRUFBT0gsRUFBTUMsT0FFekNPLEVBQXdCLFNBQUN4QixHQUNwQyxPQUFBQSxFQUFVQSxFQUFReUIsWUFBYyxJQUVyQkMsRUFBd0IsU0FBQzFCLEdB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LElBQUk0SixHQW9ETixZQUFBaEssT0FBQSxXQUNNRyxLQUFLOEUsS0FBS3lFLFlBQ1J2SixLQUFLSixNQUFNd0YsVUFDYnBGLEtBQUs4RSxLQUFLeUUsVUFBVU8sVUFBVUMsSUFBSSxVQUVsQy9KLEtBQUs4RSxLQUFLeUUsVUFBVU8sVUFBVUUsT0FBTyxXQUl6Q2hLLEtBQUtpRixLQUFLcEYsT0FBTyxDQUFFNEMsT0FBUXpDLEtBQUtKLE1BQU02QyxTQUN0Q3pDLEtBQUtrRSxZQUFZckUsT0FBTyxDQUN0QjRDLE9BQVF6QyxLQUFLSixNQUFNNkMsT0FDbkJJLGVBQWdCN0MsS0FBSzZDLGVBQ3JCNEUsb0JBQXFCekgsS0FBS3lILG9CQUMxQksseUJBQTBCOUgsS0FBSzhILDRCQUdyQyxFQWhGQSxDQUErQnJCLEdDaEIvQndELE9BQU96SSxpQkFBaUIsb0JBQW9CLFdBQzFDcUksRUFBVUQsbUIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXBvbmVudDxQID0ge30sIFMgPSB7fT4ge1xuICBwcm90ZWN0ZWQgc3RhdGU6IFMgPSB7fSBhcyBTO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBwcm9wcyA9IHt9IGFzIFApIHt9XG5cbiAgcmVuZGVyKHByb3BzOiBQKSB7fVxuXG4gIHNldFN0YXRlKG5leHRTdGF0ZTogKHM6IFMpID0+IFBhcnRpYWw8Uz4pIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgIC4uLm5leHRTdGF0ZSh0aGlzLnN0YXRlKSxcbiAgICB9O1xuXG4gICAgdGhpcy5yZW5kZXIodGhpcy5wcm9wcyk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBmaW5kUmVmID0gKHNlYXJjaEJ5OiBzdHJpbmcsIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnQgPSBkb2N1bWVudCkgPT5cbiAgKGVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWFyY2hCeSkgYXMgSFRNTEVsZW1lbnQpID8/IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGZpbmRSZWZzID0gKFxuICBzZWFyY2hCeTogc3RyaW5nLFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCB8IERvY3VtZW50ID0gZG9jdW1lbnQsXG4pOiBIVE1MRWxlbWVudFtdID0+IChlbGVtZW50ID8gQXJyYXkuZnJvbShlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VhcmNoQnkpKSA6IFtdKTtcblxuZXhwb3J0IGNvbnN0IHdpdGhFdmVudCA9IChcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsLFxuICBsaXN0ZW5lcjogc3RyaW5nLFxuICBjYWxsYmFjazogKGU6IEV2ZW50KSA9PiB2b2lkLFxuKSA9PiB7XG4gIGVsZW1lbnQgJiYgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyLCBjYWxsYmFjayk7XG4gIHJldHVybiAoKSA9PiBlbGVtZW50ICYmIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihsaXN0ZW5lciwgY2FsbGJhY2spO1xufTtcblxudHlwZSBIVE1MID0gc3RyaW5nIHwgc3RyaW5nW107XG5leHBvcnQgdHlwZSBEYXRhc2V0ID0gW2tleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nXVtdO1xuXG5leHBvcnQgY29uc3QgYXR0YWNoRE9NID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCwgaHRtbDogSFRNTCkgPT4ge1xuICBpZiAoZWxlbWVudCkge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbFRvU3RyaW5nKGh0bWwpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaHRtbFRvU3RyaW5nID0gKGh0bWw6IHN0cmluZyB8IHN0cmluZ1tdKSA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KGh0bWwpKSB7XG4gICAgcmV0dXJuIGh0bWwuam9pbignJyk7XG4gIH1cbiAgcmV0dXJuIGh0bWw7XG59O1xuXG5leHBvcnQgdHlwZSBGaWx0ZXJBdHRyaWJ1dGVzID1cbiAgfCAnZktleXdvcmRzJ1xuICB8ICdmSW5oZXJpdGVkJ1xuICB8ICdmSW1wbGljaXRseSdcbiAgfCAnZkV4dGVuc2lvbidcbiAgfCAnZlZpc2liaWxpdHknO1xuXG5leHBvcnQgY29uc3QgaXNGaWx0ZXJEYXRhID0gKGtleTogc3RyaW5nKToga2V5IGlzIEZpbHRlckF0dHJpYnV0ZXMgPT4ga2V5LnN0YXJ0c1dpdGgoJ2YnKTtcbmV4cG9ydCBjb25zdCBnZXRGaWx0ZXJLZXkgPSAoa2V5OiBzdHJpbmcpOiBGaWx0ZXJBdHRyaWJ1dGVzID0+XG4gIGBmJHtrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9JHtrZXkuc2xpY2UoMSl9YCBhcyBGaWx0ZXJBdHRyaWJ1dGVzO1xuXG5leHBvcnQgY29uc3QgYXR0YWNoTGlzdGVuZXJzID0gKFxuICBlbGVtZW50c1JlZnM6IEhUTUxFbGVtZW50W10sXG4gIHR5cGU6IHN0cmluZyxcbiAgY2FsbGJhY2s6IChlOiBFdmVudCkgPT4gdm9pZCxcbikgPT4gZWxlbWVudHNSZWZzLm1hcChlbFJlZiA9PiB3aXRoRXZlbnQoZWxSZWYsIHR5cGUsIGNhbGxiYWNrKSk7XG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50VGV4dENvbnRlbnQgPSAoZWxlbWVudD86IEhUTUxFbGVtZW50IHwgbnVsbCkgPT5cbiAgZWxlbWVudCA/IGVsZW1lbnQudGV4dENvbnRlbnQgOiAnJztcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnREZXNjcmlwdGlvbiA9IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT5cbiAgZmluZFJlZignLmRvY3VtZW50YWJsZUJyaWVmJywgZWxlbWVudCk7XG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50TmFtZVJlZiA9IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4gZmluZFJlZignLmRvY3VtZW50YWJsZU5hbWUnLCBlbGVtZW50KTtcbiIsImltcG9ydCB7XG4gIGdldEVsZW1lbnRUZXh0Q29udGVudCxcbiAgZ2V0RWxlbWVudE5hbWVSZWYsXG4gIGdldEVsZW1lbnREZXNjcmlwdGlvbixcbiAgZ2V0RmlsdGVyS2V5LFxuICBpc0ZpbHRlckRhdGEsXG4gIEZpbHRlckF0dHJpYnV0ZXMsXG59IGZyb20gJy4uL2NvbW1vbi91dGlsJztcblxuZXhwb3J0IHR5cGUgRmlsdGVyTWFwID0gUmVjb3JkPHN0cmluZywgRmlsdGVySXRlbT47XG5leHBvcnQgdHlwZSBGaWx0ZXJzID0gUmVjb3JkPEZpbHRlckF0dHJpYnV0ZXMsIEZpbHRlck1hcD47XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXIge1xuICBwdWJsaWMgZmlsdGVyczogRmlsdGVycztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdmFsdWU6IHN0cmluZyxcbiAgICBmaWx0ZXJzOiBGaWx0ZXJzLFxuICAgIHByaXZhdGUgZWxlbWVudHNSZWZzOiBIVE1MRWxlbWVudFtdLFxuICAgIHByaXZhdGUgaW5pdCA9IGZhbHNlLFxuICApIHtcbiAgICB0aGlzLmZpbHRlcnMgPSB0aGlzLmluaXQgPyB0aGlzLndpdGhOZXdGaWx0ZXJzKCkgOiBmaWx0ZXJzO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0RmlsdGVycygpIHtcbiAgICAvLyBnbG9iYWwgb2JqZWN0IGluamVjdGVkIGludG8gSFRNTCBieSBzY2FsYTNkb2NcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIHNjYWxhM0RvY0RhdGEuZmlsdGVyRGVmYXVsdHM7XG4gIH1cblxuICBvbkZpbHRlclRvZ2dsZShrZXk6IEZpbHRlckF0dHJpYnV0ZXMsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IEZpbHRlcih0aGlzLnZhbHVlLCB0aGlzLndpdGhUb2dnbGVkRmlsdGVyKGtleSwgdmFsdWUpLCB0aGlzLmVsZW1lbnRzUmVmcyk7XG4gIH1cblxuICBvbkdyb3VwU2VsZWN0aW9uQ2hhbmdlKGtleTogRmlsdGVyQXR0cmlidXRlcywgaXNBY3RpdmU6IGJvb2xlYW4pIHtcbiAgICByZXR1cm4gbmV3IEZpbHRlcih0aGlzLnZhbHVlLCB0aGlzLndpdGhOZXdTZWxlY3Rpb25PZkdyb3VwKGtleSwgaXNBY3RpdmUpLCB0aGlzLmVsZW1lbnRzUmVmcyk7XG4gIH1cblxuICBvbklucHV0VmFsdWVDaGFuZ2UodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBuZXcgRmlsdGVyKHZhbHVlLCB0aGlzLmdlbmVyYXRlRmlsdGVyc09uVHlwaW5nKHZhbHVlKSwgdGhpcy5lbGVtZW50c1JlZnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUZpbHRlcnNPblR5cGluZyh2YWx1ZTogc3RyaW5nKTogRmlsdGVycyB7XG4gICAgY29uc3QgZWxlbWVudHNEYXRhc2V0cyA9IHRoaXMuZWxlbWVudHNSZWZzXG4gICAgICAuZmlsdGVyKGVsZW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2V0RWxlbWVudFRleHRDb250ZW50KGdldEVsZW1lbnROYW1lUmVmKGVsZW1lbnQpKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBnZXRFbGVtZW50VGV4dENvbnRlbnQoZ2V0RWxlbWVudERlc2NyaXB0aW9uKGVsZW1lbnQpKTtcblxuICAgICAgICByZXR1cm4gbmFtZT8uaW5jbHVkZXModmFsdWUpIHx8IGRlc2NyaXB0aW9uPy5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgICB9KVxuICAgICAgLm1hcChlbGVtZW50ID0+IHRoaXMuZ2V0RGF0YXNldFdpdGhLZXl3b3JkRGF0YShlbGVtZW50LmRhdGFzZXQpKTtcblxuICAgIGNvbnN0IG5ld0ZpbHRlcnMgPSBlbGVtZW50c0RhdGFzZXRzLnJlZHVjZSgoZmlsdGVyc09iamVjdCwgZGF0YXNldHMpID0+IHtcbiAgICAgIGRhdGFzZXRzLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJLZXkgPSBrZXkgYXMgRmlsdGVyQXR0cmlidXRlcztcbiAgICAgICAgdGhpcy5zcGxpdEJ5Q29tbWEodmFsdWUpLmZvckVhY2godmFsID0+IHtcbiAgICAgICAgICBmaWx0ZXJzT2JqZWN0W2ZpbHRlcktleV0gPSB7XG4gICAgICAgICAgICAuLi5maWx0ZXJzT2JqZWN0W2ZpbHRlcktleV0sXG4gICAgICAgICAgICBbdmFsXTogeyAuLi5maWx0ZXJzT2JqZWN0W2ZpbHRlcktleV1bdmFsXSwgdmlzaWJsZTogdHJ1ZSB9LFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmaWx0ZXJzT2JqZWN0O1xuICAgIH0sIHRoaXMuYWxsRmlsdGVyc0FyZUhpZGRlbigpKTtcblxuICAgIHJldHVybiB0aGlzLmF0dGFjaERlZmF1bHRGaWx0ZXJzKG5ld0ZpbHRlcnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBhbGxGaWx0ZXJzQXJlSGlkZGVuKCk6IEZpbHRlcnMge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLmZpbHRlcnMpLnJlZHVjZTxGaWx0ZXJzPigoZmlsdGVycywgW2tleSwgZmlsdGVyR3JvdXBdKSA9PiB7XG4gICAgICBmaWx0ZXJzW2tleSBhcyBGaWx0ZXJBdHRyaWJ1dGVzXSA9IE9iamVjdC5rZXlzKGZpbHRlckdyb3VwKS5yZWR1Y2U8RmlsdGVyTWFwPihcbiAgICAgICAgKGdyb3VwLCBrZXkpID0+ICgoZ3JvdXBba2V5XSA9IHsgLi4uZmlsdGVyR3JvdXBba2V5XSwgdmlzaWJsZTogZmFsc2UgfSksIGdyb3VwKSxcbiAgICAgICAge30sXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZpbHRlcnM7XG4gICAgfSwge30gYXMgRmlsdGVycyk7XG4gIH1cblxuICBwcml2YXRlIHdpdGhOZXdTZWxlY3Rpb25PZkdyb3VwKGtleTogRmlsdGVyQXR0cmlidXRlcywgaXNBY3RpdmU6IGJvb2xlYW4pOiBGaWx0ZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5maWx0ZXJzLFxuICAgICAgW2tleV06IE9iamVjdC5rZXlzKHRoaXMuZmlsdGVyc1trZXldKS5yZWR1Y2U8RmlsdGVyTWFwPihcbiAgICAgICAgKG9iaiwgZmlsdGVyS2V5KSA9PiAoXG4gICAgICAgICAgKG9ialtmaWx0ZXJLZXldID0ge1xuICAgICAgICAgICAgLi4udGhpcy5maWx0ZXJzW2tleV1bZmlsdGVyS2V5XSxcbiAgICAgICAgICAgIC4uLih0aGlzLmZpbHRlcnNba2V5XVtmaWx0ZXJLZXldLnZpc2libGUgJiYgeyBzZWxlY3RlZDogaXNBY3RpdmUgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgICAgb2JqXG4gICAgICAgICksXG4gICAgICAgIHt9IGFzIEZpbHRlck1hcCxcbiAgICAgICksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgd2l0aE5ld0ZpbHRlcnMoKTogRmlsdGVycyB7XG4gICAgY29uc3QgbmV3RmlsdGVycyA9IHRoaXMuZWxlbWVudHNSZWZzLnJlZHVjZTxGaWx0ZXJzPigoZmlsdGVyc09iamVjdCwgZWxlbWVudFJlZikgPT4ge1xuICAgICAgdGhpcy5nZXREYXRhc2V0V2l0aEtleXdvcmREYXRhKGVsZW1lbnRSZWYuZGF0YXNldCkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICB0aGlzLnNwbGl0QnlDb21tYSh2YWx1ZSkuZm9yRWFjaCh2YWwgPT4ge1xuICAgICAgICAgIGNvbnN0IGZpbHRlcktleSA9IGtleSBhcyBGaWx0ZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgIGZpbHRlcnNPYmplY3RbZmlsdGVyS2V5XSA9IGZpbHRlcnNPYmplY3RbZmlsdGVyS2V5XVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgLi4uZmlsdGVyc09iamVjdFtmaWx0ZXJLZXldLFxuICAgICAgICAgICAgICAgIFt2YWxdOiBmaWx0ZXJzT2JqZWN0W2ZpbHRlcktleV1bdmFsXSA/PyBuZXcgRmlsdGVySXRlbSgpLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHsgW3ZhbF06IG5ldyBGaWx0ZXJJdGVtKCkgfTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZpbHRlcnNPYmplY3Q7XG4gICAgfSwge30gYXMgRmlsdGVycyk7XG5cbiAgICByZXR1cm4gdGhpcy5hdHRhY2hEZWZhdWx0RmlsdGVycyhuZXdGaWx0ZXJzKTtcbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoRGVmYXVsdEZpbHRlcnMobmV3RmlsdGVyczogRmlsdGVycyk6IEZpbHRlcnMge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhGaWx0ZXIuZGVmYXVsdEZpbHRlcnMpLnJlZHVjZSgoYWNjLCBba2V5LCBkZWZhdWx0RmlsdGVyXSkgPT4ge1xuICAgICAgY29uc3QgZmlsdGVyS2V5ID0gZ2V0RmlsdGVyS2V5KGtleSk7XG4gICAgICBjb25zdCBzaG91bGRBZGREZWZhdWx0S2V5d29yZEZpbHRlciA9IHRoaXMuZWxlbWVudHNSZWZzLnNvbWUocmVmID0+ICEhcmVmLmRhdGFzZXRbZmlsdGVyS2V5XSk7XG5cbiAgICAgIHJldHVybiBzaG91bGRBZGREZWZhdWx0S2V5d29yZEZpbHRlclxuICAgICAgICA/IHtcbiAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgIFtmaWx0ZXJLZXldOiB7XG4gICAgICAgICAgICAgIC4uLmFjY1tmaWx0ZXJLZXldLFxuICAgICAgICAgICAgICBbZGVmYXVsdEZpbHRlciBhcyBzdHJpbmddOiBuZXcgRmlsdGVySXRlbSgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XG4gICAgICAgIDogYWNjO1xuICAgIH0sIG5ld0ZpbHRlcnMpO1xuICB9XG5cbiAgcHJpdmF0ZSB3aXRoVG9nZ2xlZEZpbHRlcihrZXk6IEZpbHRlckF0dHJpYnV0ZXMsIHZhbHVlOiBzdHJpbmcpOiBGaWx0ZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy5maWx0ZXJzLFxuICAgICAgW2tleV06IHtcbiAgICAgICAgLi4udGhpcy5maWx0ZXJzW2tleV0sXG4gICAgICAgIFt2YWx1ZV06IHtcbiAgICAgICAgICAuLi50aGlzLmZpbHRlcnNba2V5XVt2YWx1ZV0sXG4gICAgICAgICAgc2VsZWN0ZWQ6ICF0aGlzLmZpbHRlcnNba2V5XVt2YWx1ZV0uc2VsZWN0ZWQsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHNwbGl0QnlDb21tYSA9IChzdHI6IHN0cmluZykgPT4gc3RyLnNwbGl0KCcsJyk7XG5cbiAgcHJpdmF0ZSBnZXREYXRhc2V0V2l0aEtleXdvcmREYXRhID0gKGRhdGFzZXQ6IERPTVN0cmluZ01hcCk6IFtrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZ11bXSA9PlxuICAgIE9iamVjdC5lbnRyaWVzKGRhdGFzZXQpLmZpbHRlcigoW2tleV0pID0+IGlzRmlsdGVyRGF0YShrZXkpKSBhcyBba2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmddW107XG59XG5cbmNsYXNzIEZpbHRlckl0ZW0ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2VsZWN0ZWQgPSB0cnVlLCBwdWJsaWMgdmlzaWJsZSA9IHRydWUpIHt9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21tb24vQ29tcG9uZW50JztcbmltcG9ydCB7XG4gIGZpbmRSZWZzLFxuICBmaW5kUmVmLFxuICBnZXRFbGVtZW50VGV4dENvbnRlbnQsXG4gIGdldEVsZW1lbnROYW1lUmVmLFxuICBnZXRFbGVtZW50RGVzY3JpcHRpb24sXG4gIGdldEZpbHRlcktleSxcbiAgaXNGaWx0ZXJEYXRhLFxuICBEYXRhc2V0LFxuICBGaWx0ZXJBdHRyaWJ1dGVzLFxufSBmcm9tICcuLi9jb21tb24vdXRpbCc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuL0ZpbHRlcic7XG5cbnR5cGUgUHJvcHMgPSB7IGZpbHRlcjogRmlsdGVyIH07XG50eXBlIFN0YXRlID0geyBsaXN0OiBMaXN0IH07XG50eXBlIExpc3RFbGVtZW50ID0geyByZWY6IEhUTUxFbGVtZW50OyBuYW1lOiBzdHJpbmcgfCBudWxsOyBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbCB9O1xuXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRhYmxlTGlzdCBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgcHJpdmF0ZSByZWZzOiBSZWNvcmQ8J3RhYnMnIHwgJ3NlY3Rpb25zJywgSFRNTEVsZW1lbnRbXT47XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5yZWZzID0ge1xuICAgICAgdGFiczogZmluZFJlZnMoJy5zZWN0aW9uLXRhYltkYXRhLXRvZ2dsYWJsZV0nLCBmaW5kUmVmKCcudGFiYmVkY29udGVudCcpKSxcbiAgICAgIHNlY3Rpb25zOiBmaW5kUmVmcygnZGl2W2RhdGEtdG9nZ2xhYmxlXScsIGZpbmRSZWYoJy50YWJiZWRjb250ZW50JykpLFxuICAgIH07XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGlzdDogbmV3IExpc3QodGhpcy5yZWZzLnRhYnMsIHRoaXMucmVmcy5zZWN0aW9ucyksXG4gICAgfTtcblxuICAgIHRoaXMucmVuZGVyKHByb3BzKTtcbiAgfVxuXG4gIHRvZ2dsZUVsZW1lbnREYXRhc2V0VmlzaWJpbGl0eShpc1Zpc2libGU6IGJvb2xlYW4gfCB1bmRlZmluZWQsIHJlZjogSFRNTEVsZW1lbnQpIHtcbiAgICByZWYuZGF0YXNldC52aXNpYmlsaXR5ID0gaXNWaXNpYmxlPy50b0xvY2FsZVN0cmluZygpO1xuICB9XG5cbiAgdG9nZ2xlRGlzcGxheVN0eWxlcyhcbiAgICBjb25kaXRpb246IGJvb2xlYW4gfCB1bmRlZmluZWQsXG4gICAgcmVmOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCxcbiAgICBvblZpc2libGVTdHlsZTogc3RyaW5nLFxuICApIHtcbiAgICByZWYgJiYgKHJlZi5zdHlsZS5kaXNwbGF5ID0gY29uZGl0aW9uID8gb25WaXNpYmxlU3R5bGUgOiAnbm9uZScpO1xuICB9XG5cbiAgcmVuZGVyKHsgZmlsdGVyIH06IFByb3BzKSB7XG4gICAgdGhpcy5zdGF0ZS5saXN0LnNlY3Rpb25zUmVmcy5tYXAoc2VjdGlvblJlZiA9PiB7XG4gICAgICBjb25zdCB0YWJSZWYgPSB0aGlzLnN0YXRlLmxpc3QuZ2V0VGFiUmVmRnJvbVNlY3Rpb25SZWYoc2VjdGlvblJlZik7XG5cbiAgICAgIGNvbnN0IGlzVGFiVmlzaWJsZSA9ICEhdGhpcy5zdGF0ZS5saXN0LmdldFNlY3Rpb25MaXN0UmVmcyhzZWN0aW9uUmVmKS5maWx0ZXIobGlzdFJlZiA9PiB7XG4gICAgICAgIGNvbnN0IGlzTGlzdFZpc2libGUgPSAhIXRoaXMuc3RhdGUubGlzdFxuICAgICAgICAgIC5nZXRTZWN0aW9uTGlzdEVsZW1lbnRzUmVmcyhsaXN0UmVmKVxuICAgICAgICAgIC5tYXAoZWxlbWVudFJlZiA9PiB0aGlzLnN0YXRlLmxpc3QudG9MaXN0RWxlbWVudChlbGVtZW50UmVmKSlcbiAgICAgICAgICAuZmlsdGVyKGVsZW1lbnREYXRhID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzRWxlbWVudFZpc2libGUgPSB0aGlzLnN0YXRlLmxpc3QuaXNFbGVtZW50VmlzaWJsZShlbGVtZW50RGF0YSwgZmlsdGVyKTtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGVEaXNwbGF5U3R5bGVzKGlzRWxlbWVudFZpc2libGUsIGVsZW1lbnREYXRhLnJlZiwgJ3RhYmxlJyk7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUVsZW1lbnREYXRhc2V0VmlzaWJpbGl0eShpc0VsZW1lbnRWaXNpYmxlLCBlbGVtZW50RGF0YS5yZWYpO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNFbGVtZW50VmlzaWJsZTtcbiAgICAgICAgICB9KS5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy50b2dnbGVEaXNwbGF5U3R5bGVzKGlzTGlzdFZpc2libGUsIGxpc3RSZWYsICdibG9jaycpO1xuXG4gICAgICAgIHJldHVybiBpc0xpc3RWaXNpYmxlO1xuICAgICAgfSkubGVuZ3RoO1xuXG4gICAgICB0aGlzLnRvZ2dsZURpc3BsYXlTdHlsZXMoaXNUYWJWaXNpYmxlLCB0YWJSZWYsICdpbmxpbmUtYmxvY2snKTtcbiAgICB9KTtcbiAgfVxufVxuXG5jbGFzcyBMaXN0IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB0YWJzUmVmOiBIVE1MRWxlbWVudFtdLCBwcml2YXRlIHNlY3Rpb25SZWZzOiBIVE1MRWxlbWVudFtdKSB7fVxuXG4gIGdldCB0YWJzUmVmcygpIHtcbiAgICByZXR1cm4gdGhpcy50YWJzUmVmLmZpbHRlcih0YWJSZWYgPT4gdGhpcy5maWx0ZXJUYWIodGhpcy5nZXRUb2dnbGFibGUodGFiUmVmKSkpO1xuICB9XG5cbiAgZ2V0IHNlY3Rpb25zUmVmcygpIHtcbiAgICByZXR1cm4gdGhpcy5zZWN0aW9uUmVmcy5maWx0ZXIoc2VjdGlvblJlZiA9PiB0aGlzLmZpbHRlclRhYih0aGlzLmdldFRvZ2dsYWJsZShzZWN0aW9uUmVmKSkpO1xuICB9XG5cbiAgZmlsdGVyVGFiKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiBuYW1lICE9PSAnTGluZWFyIHN1cGVydHlwZXMnICYmIG5hbWUgIT09ICdLbm93biBzdWJ0eXBlcycgJiYgbmFtZSAhPT0gJ1R5cGUgaGllcmFyY2h5JztcbiAgfVxuXG4gIGdldFRhYlJlZkZyb21TZWN0aW9uUmVmKHNlY3Rpb25SZWY6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMudGFic1JlZnMuZmluZChcbiAgICAgIHRhYlJlZiA9PiB0aGlzLmdldFRvZ2dsYWJsZSh0YWJSZWYpID09PSB0aGlzLmdldFRvZ2dsYWJsZShzZWN0aW9uUmVmKSxcbiAgICApO1xuICB9XG5cbiAgZ2V0U2VjdGlvbkxpc3RSZWZzKHNlY3Rpb25SZWY6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIGZpbmRSZWZzKCcuZG9jdW1lbnRhYmxlTGlzdCcsIHNlY3Rpb25SZWYpO1xuICB9XG5cbiAgZ2V0U2VjdGlvbkxpc3RFbGVtZW50c1JlZnMobGlzdFJlZjogSFRNTEVsZW1lbnQpIHtcbiAgICByZXR1cm4gZmluZFJlZnMoJy5kb2N1bWVudGFibGVFbGVtZW50JywgbGlzdFJlZik7XG4gIH1cblxuICB0b0xpc3RFbGVtZW50KGVsZW1lbnRSZWY6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZjogZWxlbWVudFJlZixcbiAgICAgIG5hbWU6IGdldEVsZW1lbnRUZXh0Q29udGVudChnZXRFbGVtZW50TmFtZVJlZihlbGVtZW50UmVmKSksXG4gICAgICBkZXNjcmlwdGlvbjogZ2V0RWxlbWVudFRleHRDb250ZW50KGdldEVsZW1lbnREZXNjcmlwdGlvbihlbGVtZW50UmVmKSksXG4gICAgfTtcbiAgfVxuXG4gIGlzRWxlbWVudFZpc2libGUoZWxlbWVudERhdGE6IExpc3RFbGVtZW50LCBmaWx0ZXI6IEZpbHRlcikge1xuICAgIHJldHVybiAhYXJlRmlsdGVyc0Zyb21FbGVtZW50U2VsZWN0ZWQoKSA/IGZhbHNlIDogaW5jbHVkZXNJbnB1dFZhbHVlKCk7XG5cbiAgICBmdW5jdGlvbiBpbmNsdWRlc0lucHV0VmFsdWUoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBlbGVtZW50RGF0YS5uYW1lPy5pbmNsdWRlcyhmaWx0ZXIudmFsdWUpIHx8IGVsZW1lbnREYXRhLmRlc2NyaXB0aW9uPy5pbmNsdWRlcyhmaWx0ZXIudmFsdWUpXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFyZUZpbHRlcnNGcm9tRWxlbWVudFNlbGVjdGVkKCkge1xuICAgICAgY29uc3QgZGF0YXNldCA9IE9iamVjdC5lbnRyaWVzKGVsZW1lbnREYXRhLnJlZi5kYXRhc2V0KSBhcyBEYXRhc2V0O1xuICAgICAgY29uc3QgZGVmYXVsdEZpbHRlcnMgPSBPYmplY3QuZW50cmllcyhGaWx0ZXIuZGVmYXVsdEZpbHRlcnMpLmZpbHRlcihcbiAgICAgICAgKFtrZXldKSA9PiAhIWZpbHRlci5maWx0ZXJzW2dldEZpbHRlcktleShrZXkpXSxcbiAgICAgICkgYXMgRGF0YXNldDtcblxuICAgICAgY29uc3QgZGVmYXVsdEZpbHRlcnNGb3JNZW1iZXJzV2l0aG91dERhdGFBdHRyaWJ1dGUgPSBkZWZhdWx0RmlsdGVycy5yZWR1Y2U8RGF0YXNldD4oXG4gICAgICAgIChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGZpbHRlcktleSA9IGdldEZpbHRlcktleShrZXkpO1xuICAgICAgICAgIGNvbnN0IHNob3VsZEFkZERlZmF1bHRGaWx0ZXIgPSAhZGF0YXNldC5zb21lKChba10pID0+IGsgPT09IGZpbHRlcktleSk7XG4gICAgICAgICAgcmV0dXJuIHNob3VsZEFkZERlZmF1bHRGaWx0ZXIgPyBbLi4uYWNjLCBbZmlsdGVyS2V5LCB2YWx1ZV1dIDogYWNjO1xuICAgICAgICB9LFxuICAgICAgICBbXSxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGRhdGFzZXRXaXRoQXBwZW5kZWREZWZhdWx0RmlsdGVyczogRGF0YXNldCA9IGRhdGFzZXRcbiAgICAgICAgLmZpbHRlcigoW2tdKSA9PiBpc0ZpbHRlckRhdGEoaykpXG4gICAgICAgIC5tYXAoKFtrLCB2XSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRGaWx0ZXIgPSBkZWZhdWx0RmlsdGVycy5maW5kKChbZGVmYXVsdEtleV0pID0+IGRlZmF1bHRLZXkgPT09IGspO1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0RmlsdGVyID8gW2ssIGAke3Z9LCR7ZGVmYXVsdEZpbHRlclsxXX1gXSA6IFtrLCB2XTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRhdGFzZXRXaXRoRGVmYXVsdEZpbHRlcnMgPSBbXG4gICAgICAgIC4uLmRlZmF1bHRGaWx0ZXJzRm9yTWVtYmVyc1dpdGhvdXREYXRhQXR0cmlidXRlLFxuICAgICAgICAuLi5kYXRhc2V0V2l0aEFwcGVuZGVkRGVmYXVsdEZpbHRlcnMsXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBkYXRhc2V0V2l0aERlZmF1bHRGaWx0ZXJzLmV2ZXJ5KChbZmlsdGVyS2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgY29uc3QgZmlsdGVyR3JvdXAgPSBmaWx0ZXIuZmlsdGVyc1tmaWx0ZXJLZXkgYXMgRmlsdGVyQXR0cmlidXRlc107XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlLnNwbGl0KCcsJykuc29tZSh2ID0+IGZpbHRlckdyb3VwICYmIGZpbHRlckdyb3VwW3ZdLnNlbGVjdGVkKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gaXNWaXNpYmxlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0VG9nZ2xhYmxlID0gKGVsZW1lbnREYXRhOiBIVE1MRWxlbWVudCkgPT4gZWxlbWVudERhdGEuZGF0YXNldC50b2dnbGFibGUhO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tbW9uL0NvbXBvbmVudCc7XG5pbXBvcnQgeyBmaW5kUmVmLCBmaW5kUmVmcywgYXR0YWNoTGlzdGVuZXJzLCBGaWx0ZXJBdHRyaWJ1dGVzLCBhdHRhY2hET00gfSBmcm9tICcuLi9jb21tb24vdXRpbCc7XG5pbXBvcnQgeyBGaWx0ZXIsIEZpbHRlck1hcCB9IGZyb20gJy4vRmlsdGVyJztcblxudHlwZSBQcm9wcyA9IHtcbiAgZmlsdGVyOiBGaWx0ZXI7XG4gIG9uRmlsdGVyVmlzaWJpbGl0eUNoYW5nZTogKGU6IEV2ZW50KSA9PiB2b2lkO1xuICBvbkZpbHRlclRvZ2dsZTogKGtleTogc3RyaW5nIHwgdW5kZWZpbmVkLCB2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICBvbkdyb3VwU2VsZWN0Q2hhbmdlOiAoa2V5OiBzdHJpbmcgfCB1bmRlZmluZWQsIHZhbHVlOiBib29sZWFuKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGNsYXNzIEZpbHRlckdyb3VwIGV4dGVuZHMgQ29tcG9uZW50PFByb3BzPiB7XG4gIHByaXZhdGUgZmlsdGVyVG9nZ2xlUmVmOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBmaWx0ZXJMb3dlckNvbnRhaW5lclJlZjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5maWx0ZXJUb2dnbGVSZWYgPSBmaW5kUmVmKCcuZmlsdGVyVG9nZ2xlQnV0dG9uJyk7XG4gICAgdGhpcy5maWx0ZXJMb3dlckNvbnRhaW5lclJlZiA9IGZpbmRSZWYoJy5maWx0ZXJMb3dlckNvbnRhaW5lcicpO1xuXG4gICAgdGhpcy5maWx0ZXJUb2dnbGVSZWYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHRoaXMucHJvcHMub25GaWx0ZXJWaXNpYmlsaXR5Q2hhbmdlKGUpKTtcbiAgICB0aGlzLnJlbmRlcih0aGlzLnByb3BzKTtcbiAgfVxuXG4gIG9uRmlsdGVyQ2xpY2sgPSAoeyBjdXJyZW50VGFyZ2V0IH06IEV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSAoY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkuZGF0YXNldDtcbiAgICB0aGlzLnByb3BzLm9uRmlsdGVyVG9nZ2xlKGtleSwgdmFsdWUpO1xuICB9O1xuXG4gIG9uU2VsZWN0QWxsQ2xpY2sgPSAoeyBjdXJyZW50VGFyZ2V0IH06IEV2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkdyb3VwU2VsZWN0Q2hhbmdlKChjdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0LmtleSwgdHJ1ZSk7XG4gIH07XG5cbiAgb25EZXNlbGVjdEFsbENsaWNrID0gKHsgY3VycmVudFRhcmdldCB9OiBFdmVudCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25Hcm91cFNlbGVjdENoYW5nZSgoY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkuZGF0YXNldC5rZXksIGZhbHNlKTtcbiAgfTtcblxuICBwcml2YXRlIGF0dGFjaEZpbHRlcnNDbGlja3MoKSB7XG4gICAgY29uc3QgcmVmcyA9IGZpbmRSZWZzKCdidXR0b24uZmlsdGVyQnV0dG9uSXRlbScsIHRoaXMuZmlsdGVyTG93ZXJDb250YWluZXJSZWYpO1xuICAgIGF0dGFjaExpc3RlbmVycyhyZWZzLCAnY2xpY2snLCB0aGlzLm9uRmlsdGVyQ2xpY2spO1xuICB9XG5cbiAgcHJpdmF0ZSBhdHRhY2hTZWxlY3RpbmdCdXR0b25zQ2xpY2tzKCkge1xuICAgIGNvbnN0IHNlbGVjdEFsbFJlZnMgPSBmaW5kUmVmcygnYnV0dG9uLnNlbGVjdEFsbCcsIHRoaXMuZmlsdGVyTG93ZXJDb250YWluZXJSZWYpO1xuICAgIGNvbnN0IGRlc2VsZWN0QWxsUmVmcyA9IGZpbmRSZWZzKCdidXR0b24uZGVzZWxlY3RBbGwnLCB0aGlzLmZpbHRlckxvd2VyQ29udGFpbmVyUmVmKTtcblxuICAgIGF0dGFjaExpc3RlbmVycyhzZWxlY3RBbGxSZWZzLCAnY2xpY2snLCB0aGlzLm9uU2VsZWN0QWxsQ2xpY2spO1xuICAgIGF0dGFjaExpc3RlbmVycyhkZXNlbGVjdEFsbFJlZnMsICdjbGljaycsIHRoaXMub25EZXNlbGVjdEFsbENsaWNrKTtcbiAgfVxuXG4gIGlzQWN0aXZlKGlzQWN0aXZlOiBib29sZWFuKSB7XG4gICAgcmV0dXJuIGlzQWN0aXZlID8gJ2FjdGl2ZScgOiAnJztcbiAgfVxuXG4gIGlzVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgcmV0dXJuIHZpc2libGUgPyAndmlzaWJsZScgOiAnJztcbiAgfVxuXG4gIGdldFNvcnRlZFZhbHVlcyhmaWx0ZXJLZXk6IEZpbHRlckF0dHJpYnV0ZXMsIHZhbHVlczogRmlsdGVyTWFwKSB7XG4gICAgY29uc3QgZGVmYXVsdEZpbHRlcktleSA9IGAke2ZpbHRlcktleS5jaGFyQXQoMSkudG9Mb3dlckNhc2UoKX0ke2ZpbHRlcktleS5zbGljZSgyKX1gO1xuICAgIGNvbnN0IGRlZmF1bHRHcm91cEZpbHRlciA9IEZpbHRlci5kZWZhdWx0RmlsdGVyc1tkZWZhdWx0RmlsdGVyS2V5XTtcblxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh2YWx1ZXMpLnNvcnQoKFthXSwgW2JdKSA9PiB7XG4gICAgICBpZiAoYSA9PT0gZGVmYXVsdEdyb3VwRmlsdGVyKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cblxuICAgICAgaWYgKGIgPT09IGRlZmF1bHRHcm91cEZpbHRlcikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEZpbHRlckdyb3VwKGZpbHRlcktleTogRmlsdGVyQXR0cmlidXRlcywgdmFsdWVzOiBGaWx0ZXJNYXApIHtcbiAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cImZpbHRlckdyb3VwXCIgZGF0YS10ZXN0LWlkPVwiZmlsdGVyR3JvdXBcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwVGl0bGVcIj5cbiAgICAgICAgICA8c3BhbiBkYXRhLXRlc3QtaWQ9XCJmaWx0ZXJHcm91cFRpdGxlXCI+JHtmaWx0ZXJLZXkuc3Vic3RyaW5nKDEpfTwvc3Bhbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXBCdXR0b25zQ29udGFpbmVyXCIgZGF0YS10ZXN0LWlkPVwiZmlsdGVyR3JvdXBCYXRjaFRvZ2dsZVwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNlbGVjdEFsbFwiIGRhdGEta2V5PVwiJHtmaWx0ZXJLZXl9XCI+U2VsZWN0IEFsbDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRlc2VsZWN0QWxsXCIgZGF0YS1rZXk9XCIke2ZpbHRlcktleX1cIj5EZXNlbGVjdCBBbGw8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXJMaXN0XCIgZGF0YS10ZXN0LWlkPVwiZmlsdGVyR3JvdXBMaXN0XCI+XG4gICAgICAgICAgJHt0aGlzLmdldFNvcnRlZFZhbHVlcyhmaWx0ZXJLZXksIHZhbHVlcylcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgIChba2V5LCBkYXRhXSkgPT5cbiAgICAgICAgICAgICAgICBgPGJ1dHRvbiBjbGFzcz1cImZpbHRlckJ1dHRvbkl0ZW0gJHt0aGlzLmlzQWN0aXZlKGRhdGEuc2VsZWN0ZWQpfSAke3RoaXMuaXNWaXNpYmxlKFxuICAgICAgICAgICAgICAgICAgZGF0YS52aXNpYmxlLFxuICAgICAgICAgICAgICAgICl9XCIgZGF0YS1rZXk9XCIke2ZpbHRlcktleX1cIiBkYXRhLXNlbGVjdGVkPVwiJHtcbiAgICAgICAgICAgICAgICAgIGRhdGEuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICB9XCIgZGF0YS12YWx1ZT1cIiR7a2V5fVwiIGRhdGEtdGVzdC1pZD1cImZpbHRlckdyb3VwQnV0dG9uXCI+JHtrZXl9PC9idXR0b24+YCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5qb2luKCcgJyl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHJlbmRlcih7IGZpbHRlciB9OiBQcm9wcykge1xuICAgIGF0dGFjaERPTShcbiAgICAgIHRoaXMuZmlsdGVyTG93ZXJDb250YWluZXJSZWYsXG4gICAgICBPYmplY3QuZW50cmllcyhmaWx0ZXIuZmlsdGVycylcbiAgICAgICAgLmZpbHRlcigoW19rZXksIHZhbHVlc10pID0+IE9iamVjdC52YWx1ZXModmFsdWVzKS5zb21lKHYgPT4gdi52aXNpYmxlKSlcbiAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVzXSkgPT4gdGhpcy5nZXRGaWx0ZXJHcm91cChrZXkgYXMgRmlsdGVyQXR0cmlidXRlcywgdmFsdWVzKSksXG4gICAgKTtcblxuICAgIHRoaXMuYXR0YWNoRmlsdGVyc0NsaWNrcygpO1xuICAgIHRoaXMuYXR0YWNoU2VsZWN0aW5nQnV0dG9uc0NsaWNrcygpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21tb24vQ29tcG9uZW50JztcbmltcG9ydCB7IGZpbmRSZWYgfSBmcm9tICcuLi9jb21tb24vdXRpbCc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIG9uSW5wdXRDaGFuZ2U6ICh2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBjbGFzcyBJbnB1dCBleHRlbmRzIENvbXBvbmVudDxQcm9wcz4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBmaW5kUmVmKCcuZmlsdGVyYWJsZUlucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBlID0+IHRoaXMub25JbnB1dENoYW5nZShlKSk7XG4gIH1cblxuICBvbklucHV0Q2hhbmdlID0gKHsgY3VycmVudFRhcmdldCB9OiBFdmVudCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25JbnB1dENoYW5nZSgoY3VycmVudFRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG4gIH07XG59XG4iLCIvKipcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KFwiLi9GaWx0ZXJcIikuRmlsdGVyIH0gRmlsdGVyXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tbW9uL0NvbXBvbmVudCc7XG5pbXBvcnQgeyBmaW5kUmVmcywgZmluZFJlZiwgRmlsdGVyQXR0cmlidXRlcyB9IGZyb20gJy4uL2NvbW1vbi91dGlsJztcbmltcG9ydCB7IEZpbHRlciwgRmlsdGVycyB9IGZyb20gJy4vRmlsdGVyJztcbmltcG9ydCB7IERvY3VtZW50YWJsZUxpc3QgfSBmcm9tICcuL0RvY3VtZW50YWJsZUxpc3QnO1xuaW1wb3J0IHsgRmlsdGVyR3JvdXAgfSBmcm9tICcuL0ZpbHRlckdyb3VwJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi9JbnB1dCc7XG5cbnR5cGUgUHJvcHMgPSB2b2lkO1xuXG50eXBlIFN0YXRlID0ge1xuICBmaWx0ZXI6IEZpbHRlcjtcbiAgaXNWaXNpYmxlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNsYXNzIEZpbHRlckJhciBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgcHJpdmF0ZSByZWZzOiB7IGVsZW1lbnRzOiBIVE1MRWxlbWVudFtdOyBmaWx0ZXJCYXI6IEhUTUxFbGVtZW50IH07XG4gIHByaXZhdGUgaW5wdXQ6IElucHV0O1xuICBwcml2YXRlIGxpc3Q6IERvY3VtZW50YWJsZUxpc3Q7XG4gIHByaXZhdGUgZmlsdGVyR3JvdXA6IEZpbHRlckdyb3VwO1xuXG4gIHN0YXRpYyB0cnlBdHRhY2hpbmcoKSB7XG4gICAgaWYgKCFmaW5kUmVmKCcuZG9jdW1lbnRhYmxlRmlsdGVyJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuZXcgRmlsdGVyQmFyKCk7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnJlZnMgPSB7XG4gICAgICBlbGVtZW50czogZmluZFJlZnMoJy5kb2N1bWVudGFibGVFbGVtZW50JyksXG4gICAgICBmaWx0ZXJCYXI6IGZpbmRSZWYoJy5kb2N1bWVudGFibGVGaWx0ZXInKSxcbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGZpbHRlcjogbmV3IEZpbHRlcignJywge30gYXMgRmlsdGVycywgdGhpcy5yZWZzLmVsZW1lbnRzLCB0cnVlKSxcbiAgICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgfTtcblxuICAgIHRoaXMuaW5wdXQgPSBuZXcgSW5wdXQoeyBvbklucHV0Q2hhbmdlOiB0aGlzLm9uSW5wdXRDaGFuZ2UgfSk7XG4gICAgdGhpcy5saXN0ID0gbmV3IERvY3VtZW50YWJsZUxpc3Qoe1xuICAgICAgZmlsdGVyOiB0aGlzLnN0YXRlLmZpbHRlcixcbiAgICB9KTtcbiAgICB0aGlzLmZpbHRlckdyb3VwID0gbmV3IEZpbHRlckdyb3VwKHtcbiAgICAgIGZpbHRlcjogdGhpcy5zdGF0ZS5maWx0ZXIsXG4gICAgICBvbkZpbHRlclRvZ2dsZTogdGhpcy5vbkZpbHRlclRvZ2dsZSxcbiAgICAgIG9uR3JvdXBTZWxlY3RDaGFuZ2U6IHRoaXMub25Hcm91cFNlbGVjdENoYW5nZSxcbiAgICAgIG9uRmlsdGVyVmlzaWJpbGl0eUNoYW5nZTogdGhpcy5vbkZpbHRlclZpc2liaWxpdHlDaGFuZ2UsXG4gICAgfSk7XG5cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgb25JbnB1dENoYW5nZSA9ICh2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICBmaWx0ZXI6IHByZXZTdGF0ZS5maWx0ZXIub25JbnB1dFZhbHVlQ2hhbmdlKHZhbHVlISksXG4gICAgfSkpO1xuICB9O1xuXG4gIG9uR3JvdXBTZWxlY3RDaGFuZ2UgPSAoa2V5OiBzdHJpbmcgfCB1bmRlZmluZWQsIGlzQWN0aXZlOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgIGZpbHRlcjogcHJldlN0YXRlLmZpbHRlci5vbkdyb3VwU2VsZWN0aW9uQ2hhbmdlKGtleSBhcyBGaWx0ZXJBdHRyaWJ1dGVzLCBpc0FjdGl2ZSksXG4gICAgfSkpO1xuICB9O1xuXG4gIG9uRmlsdGVyVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoeyBpc1Zpc2libGU6ICFwcmV2U3RhdGUuaXNWaXNpYmxlIH0pKTtcbiAgfTtcblxuICBvbkZpbHRlclRvZ2dsZSA9IChrZXk6IHN0cmluZyB8IHVuZGVmaW5lZCwgdmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICBmaWx0ZXI6IHByZXZTdGF0ZS5maWx0ZXIub25GaWx0ZXJUb2dnbGUoa2V5IGFzIEZpbHRlckF0dHJpYnV0ZXMsIHZhbHVlISksXG4gICAgfSkpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5yZWZzLmZpbHRlckJhcikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICAgIHRoaXMucmVmcy5maWx0ZXJCYXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlZnMuZmlsdGVyQmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubGlzdC5yZW5kZXIoeyBmaWx0ZXI6IHRoaXMuc3RhdGUuZmlsdGVyIH0pO1xuICAgIHRoaXMuZmlsdGVyR3JvdXAucmVuZGVyKHtcbiAgICAgIGZpbHRlcjogdGhpcy5zdGF0ZS5maWx0ZXIsXG4gICAgICBvbkZpbHRlclRvZ2dsZTogdGhpcy5vbkZpbHRlclRvZ2dsZSxcbiAgICAgIG9uR3JvdXBTZWxlY3RDaGFuZ2U6IHRoaXMub25Hcm91cFNlbGVjdENoYW5nZSxcbiAgICAgIG9uRmlsdGVyVmlzaWJpbGl0eUNoYW5nZTogdGhpcy5vbkZpbHRlclZpc2liaWxpdHlDaGFuZ2UsXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlckJhciB9IGZyb20gJy4vZmlsdGVyQmFyL2luZGV4Jztcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIEZpbHRlckJhci50cnlBdHRhY2hpbmcoKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==